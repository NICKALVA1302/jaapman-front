

<div *ngIf="!loading">
<form class="container mt-5">
    <div class="text-center mb-4">
        <img src="../../assets/img/logo_manglaralto.png" alt="Logo Manglaralto" class="img-fluid">
    </div>

    <h2 class="mb-4">PLANTA DE AGUA MANGLARALTO</h2>
  
    <div class="mb-3">
        <label for="username" class="form-label">Usuario:</label>
        <input type="text" id="username" [(ngModel)]="username" name="username" class="form-control" placeholder="CEDULA" required appOnlyNumbers maxlength="10">
    </div>
  
    <div class="mb-3">
        <label for="password" class="form-label">Contraseña:</label>
        <input type="password" id="password" [(ngModel)]="password" name="password" class="form-control" placeholder="***********" required>
    </div>

    <p class="mt-1">¿Olvidaste tu contraseña? <a [routerLink]="['/acceso', 'reestablecer']">Restablécela aquí</a>.</p>

  
    <div *ngIf="showRoleSelection && roles.length > 1" class="mb-3">
        <label for="roles" class="form-label">Seleccionar rol:</label>
        <select id="roles" name="roles" [(ngModel)]="selectedRole" class="form-select" required>
          <option *ngFor="let role of roles" [value]="role">{{ 'Rol ' + role }}</option>
        </select>
        <button type="button" (click)="selectRole()" class="btn btn-primary">Seleccionar rol</button>
      </div>
      
      <button type="button" (click)="login()" class="btn btn-primary" *ngIf="!showRoleSelection">Iniciar sesión</button>
      <p class="mt-3">¿No tienes una cuenta? <a [routerLink]="['/acceso', 'registrar']">Regístrate aquí</a>.</p>
      <br>
</form>
<app-spinner *ngIf="loading"></app-spinner>

</div>